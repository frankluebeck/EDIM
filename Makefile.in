# makefile prototype for the EDIM package (assuming GAP >= 4.9) Frank LÃ¼beck

GAPPATH=@GAPPATH@

# set default values for GAP and GAC (may be overwritten by sysinfo.gap)
GAC=$(GAPPATH)/gac
GAP=$(GAPPATH)/bin/gap.sh

include $(GAPPATH)/sysinfo.gap

.PHONY: doc clean distclean docclean test

bin/$GAParch/ediv.so: src/ediv.c Makefile
	@mkdir -p bin/$GAParch
	$(GAC) -d -o bin/$GAParch/ediv.so src/ediv.c

doc:
	$(GAP)  makedocrel.g

clean: 
	rm -rf bin/$GAParch Makefile *~

distclean:
	rm -rf bin Makefile Makefile-*

docclean:
	(cd  doc; ./clean)

test:
	$(GAP) -b -q -r < tst/test.g

# regenerate Makefile if any of its inputs changed
Makefile: configure Makefile.in $(GAPPATH)/sysinfo.gap
	./configure $(GAPPATH)
